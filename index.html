<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5/swagger-ui.css">
    <title>Swift OpenAPI Sample API</title>
</head>
<body>
    <!-- Dropdown to select OpenAPI.yaml file -->
    <label for="openapi-select">Select an OpenAPI.yaml file:</label>
    <select id="openapi-select">
        <option value="https://tradewithit.github.io/Alpaca-Markets/Sources/AlpacaBroker/openapi.yaml">Alpaca Broker</option>
        <option value="https://tradewithit.github.io/Alpaca-Markets/Sources/AlpacaMarket/openapi.yaml">Alpaca Market</option>
        <option value="https://tradewithit.github.io/Alpaca-Markets/Sources/AlpacaOAuth/openapi.yaml" selected>Alpaca OAuth</option>
        <option value="https://tradewithit.github.io/Alpaca-Markets/Sources/AlpacaTrading/openapi.yaml">Alpaca Trading</option>
    </select>

    <!-- Button to load selected OpenAPI.yaml file -->
    <button id="load-openapi">Load OpenAPI.yaml</button>

    <!-- OpenAPI.yaml Explorer -->
    <div id="openapi"></div>
    <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <script>
        window.onload = function() {
            // Function to load selected OpenAPI.yaml file
            function loadSelectedOpenAPI() {
                const selectElement = document.getElementById("openapi-select");
                const selectedUrl = selectElement.value;

                // Load the selected OpenAPI.yaml file
                const ui = SwaggerUIBundle({
                    url: selectedUrl,
                    dom_id: "#openapi",
                    deepLinking: true,
                    validatorUrl: "none"
                });
            }

            // Attach click event listener to the "Load OpenAPI.yaml" button
            const loadButton = document.getElementById("load-openapi");
            loadButton.addEventListener("click", loadSelectedOpenAPI);
        }
    </script>
</body>
</html>
